# B4：多样性与相关性的平衡——避免信息茧房

有时，最相关的Top-K个文档可能内容高度同质化，反复陈述同一个事实或观点。这虽然“相关”，但信息量很低。为了给用户提供更全面、更多维度的视角，需要在检索结果中引入多样性。

## **最大边际相关性 (MMR - Maximal Marginal Relevance):**

MMR由Jaime Carbonell等人在1998年的SIGIR会议论文 "Use of MMR, diversity-based reranking for reordering documents and producing summaries" 中首次提出，是信息检索领域平衡相关性与新颖性的经典算法。

- **工作原理（直观理解）：**
    1. 首先，像往常一样检索出一个较大的候选集。
    2. **第一步：** 选出与查询最相关的那个文档。
    3. **迭代步骤：** 在剩下的文档中，寻找一个“最优”的文档，这个“最优”的文档需要满足：既与**原始查询**的相关性要高，又与**已经选出**的文档的相似性要低（即，它要足够“新颖”）。
- **参数 lambda:** lambda参数（0到1之间）用于调节“相关性”和“多样性”的权重。lambda=1时，只考虑相关性；lambda=0时，只考虑多样性。

### **MMR的适用场景:**

- **当查询开放且需要多方面视角时：** 例如，用户查询“人工智能对社会的影响”，你希望返回的结果既包含积极影响（如效率提升），也包含消极影响（如就业问题），而不是5篇都在说效率提升的文档。
- **产品推荐或新闻摘要：** 在这些场景中，向用户展示多样化的选择或新闻角度，通常比反复推荐同一种产品或报道同一个事件要好。
- **何时不适用：** 当用户进行非常精确的事实查找时（例如，“法国的首都是哪里？”），多样性通常是不需要的，此时应将lambda参数设为接近1，以追求最高的相关性。