# C2：指令清晰——明确模型的任务与行为

指令是提示的“灵魂”，它定义了模型的**角色、能力边界、行为准则和输出格式**。指令越明确、越无歧义，模型的输出就越可控、越符合预期。

## **提供如何使用信息的明确说明**

不要假设模型“知道”该怎么做。你需要通过指令，为其设定精确的“游戏规则”。

- **信息优先级:** 明确哪些信息源更可信（例如，“优先采信发布日期最新的文档”）。
- **冲突处理:** 当检索到矛盾信息时，明确告知处理策略（例如，“同时呈现两种观点并注明来源”）。
- **引用要求:** 明确是否需要标注信息来源，以及引用的具体格式。
- **推理边界:** 明确模型是应该**严格基于**所提供信息回答，还是可以进行一定程度的**合理推理**。
- **对比举例 (从模糊到精确):**
    - **模糊指令 ❌:** "Answer the question based on the context."
    - **稍好一点 ✅:** "Answer the question using *only* the provided context."
    - **专业级指令 ✨:** "You are a helpful assistant for our company's knowledge base. Your task is to answer user questions based *strictly* and *exclusively* on the provided context documents. Do not use any of your internal knowledge. If the answer cannot be found in the provided documents, you *must* respond with the exact phrase: 'I could not find an answer in the provided documents.'"

## **使用外部知识包括引用或归因的指导**

- **详细阐述：** 在许多应用中（如客服、研究），答案的可追溯性至关重要。你必须在提示中明确指示模型如何进行引用。
- **示例指令 (在Prompt中):**
    
    "When you use information from a document to form your answer, you must cite the document's index at the end of the sentence, like this: [1]. If a single sentence synthesizes information from multiple documents, cite all of them, like this: [1, 2]. Each document is provided with its index in the format '<document index=\"...\">."
    

## **指令设计的心理学原则**

- **a. 角色扮演 (Role-playing):**
    - **说明：** 在指令的开头，为LLM设定一个具体的专家角色。这不仅仅是装饰，它能有效地激活模型在预训练时学到的与该角色相关的知识、语言风格和推理模式。
    - **示例：**
        - **弱指令：** "Summarize the document."
        - **强指令：** "You are a senior financial analyst. Your task is to summarize the following financial report for a board meeting. Focus on key metrics like revenue, profit margin, and future outlook."
- **b. 正向指令优于反向指令 (Positive vs. Negative Instructions):**
    - **说明：** 尽量告诉模型**“做什么”**，而不是**“不要做什么”**。就像对一个孩子说“请走路”比“不要跑”更有效一样，LLM对正向、具体的指令响应得更好。
    - **示例：**
        - **反向指令 ❌:** "Don't write a very long answer."
        - **正向指令 ✅:** "Summarize the key points in three concise bullet points."
- **c. 强调关键约束 (Emphasize Key Constraints):**
    - **说明：** 如果某个指令至关重要（例如，“严格基于上下文”），不要只说一遍。可以在指令的开头和结尾都强调它，或者使用大写字母、星号等方式来引起模型的“注意”。
    - **示例：** "...Based *STRICTLY* on the provided context. Remember, do not use any external knowledge. This is very important."